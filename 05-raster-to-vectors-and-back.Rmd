# Vectors to rasters and back

## Convert a vector to a raster

In `terra`, a vector can be converted to a raster by using `rasterize(x, y)`,
where `x` is the vector to convert to a raster and `y` is a template raster from which the metadata is re-used for `x`:

```{r rasterize}
bio1 <- rast("data/wc2.1_10m_bio_1.tif") #load raster template
eu <- vect("data/EU/EU.shp") #load zone layer
r_eu <- rasterize(eu, bio1)
plot(r_eu, col = "#001489")
```

`rasterize()` can also take the optional argument `field`, which is used to assign to the cells values:

```{r rasterize-field}
r_eu <- rasterize(eu, bio1, field = "NAME_ENGL")
plot(r_eu, col = hcl.colors(length(eu), "Dynamic"))
lines(eu)
```

## Covert a raster to a vector

`as.polygons()` can be used to convert a raster into a vector:

```{r vectorize-back}
plot(
  as.polygons(r_eu),  # covert it back to polygons
  col = hcl.colors(length(eu), "Dynamic")
)
```

By default, the new polygon will be dissolved, i.e. the vector will have only one geometry for each value of the raster; this can be turned off by specifying `dissolve = FALSE`, but usually you want them dissolved.
