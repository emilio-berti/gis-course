# Convert a vector to a raster

In _terra_, a vector can be converted to a raster by using `rasterize(x, y)`,
where `x` is the vector to convert to a raster and `y` is a template raster from which the metadata is re-used for `x`:
```{r rasterize}
bio1 <- rast("data/wc2.1_10m_bio_1.tif") #load raster template
eu <- vect("data/EU/EU.shp") #load zone layer
r_eu <- rasterize(eu, bio1)
plot(r_eu, col = "#001489")
```

`rasterize()` can also take the optional argument `field`, which is used to assign to the cells values:
```{r rasterize-field}
r_eu <- rasterize(eu, bio1, field = "NAME_ENGL")
plot(r_eu, col = hcl.colors(length(eu), "Dynamic"))
lines(eu)
```

## Covert a raster to a vector

`as.polygons()` can be used to convert a raster into a vector.
By default, the new polygon will be dissolved, i.e. the vector will have only one geometry for each value of the raster; this can be turned off by specifying `dissolve = FALSE`, but usually you want them dissolved.
Moreover, the default behavior of `as.polygons()` is to round rasters that have many different values, to avoid creating too many polygons; this can be turned off by specifying `round = FALSE`.
Let's have a look at some of these options:

```{r vectorize}
#default is round = TRUE an dissolve = TRUE
length(as.polygons(bio1, round = FALSE))
length(as.polygons(bio1, dissolve = FALSE))
length(as.polygons(bio1, round = FALSE, dissolve = FALSE))
v_bio1 <- as.polygons(bio1) 
length(v_bio1)
plot(v_bio1, col = hcl.colors(length(v_bio1), "Zissou 1"))
```
